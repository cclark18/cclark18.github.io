<!doctype html>
<html>
<head>
    <title>Math Helper</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="http://cclark18.github.io/favicon.gif"/>
    <link rel="stylesheet" type="text/css" href="http://cclark18.github.io/styles.css"/>

    
</head>

<body>
<div class="main">
    <h1>Math Utilities</h1>

    <!-- Pascal's Triangle Tools -->
    <div id="pascalSection" class="toolSection">
        <h2>Pascal's Triangle Generator</h2>

        <h3>C(N,K)</h3>

        <div class="niceText">N: 
    	   <input id="pascalN" class="niceInput niceText"></input>
        </div>
        <br />

        <div class="niceText">K: 
    	   <input id="pascalK" class="niceInput niceText"></input>
        </div>
        <br />

        <div id="pascalResult" class="niceText"></div>

        <button id="pascalCalculate" class="niceButton">Calculate</button>

        <h3>Pascal's Triangle with N rows</h3>

        <div class="niceText">N: 
    	   <input id="pascalTriN" class="niceInput niceText"></input>
        </div>
        <br />

        <button id="pascalGenerate" class="niceButton">Generate</button>

        <div id="pascalTriangle" class="niceText"></div>
    </div>

    <!-- T-Number Triangle Tools -->
    <div id="tNumberSection" class="toolSection">
        <h2>T-Number Triangle Generator</h2>

        <h3>T(N,K)</h3>

        <div class="niceText">N: 
           <input id="tNumberN" class="niceInput niceText"></input>
        </div>
        <br />

        <div class="niceText">K: 
           <input id="tNumberK" class="niceInput niceText"></input>
        </div>
        <br />

        <div id="tNumberResult" class="niceText"></div>

        <button id="tNumberCalculate" class="niceButton">Calculate</button>

        <h3>T-Number Triangle with N rows</h3>

        <div class="niceText">N: 
           <input id="tNumberTriN" class="niceInput niceText"></input>
        </div>
        <br />

        <button id="tNumberGenerate" class="niceButton">Generate</button>

        <div id="tNumberTriangle" class="niceText"></div>
    </div>
</div>

<script type="text/javascript">
		// inputs
    	var pascalN = document.getElementById("pascalN");
    	var pascalK = document.getElementById("pascalK");
    	var pascalTriN = document.getElementById("pascalTriN");
    	// buttons
    	var pascalCalculate = document.getElementById("pascalCalculate");
    	var pascalGenerate = document.getElementById("pascalGenerate");
    	// outputs
    	var pascalResult = document.getElementById("pascalResult");
    	var pascalTriangle = document.getElementById("pascalTriangle");

    	pascalCalculate.onclick=function() {
    		var n = +pascalN.value;
    		var k = +pascalK.value;
    		var val = pascalCalculateFunc(n, k);
    		console.log(pascalN.value + " " + pascalK.value);
    		console.log(val);

    		pascalResult.innerHTML=val;
    	};

    	pascalGenerate.onclick=function() {
    		var n = +pascalTriN.value;

    		pascalGenerateFunc(n, pascalTriangle);
    	}

    	// n: row of solution
    	// k: column of solution
    	function pascalCalculateFunc(n, k) {
    		var results = [];
    		// construct solution array, where '-1' indicates and unsolved pascal result
    		for (var i = 0; i <= n; ++i) {
    			results[i] = [];
    			for (var j = 0; j <= i; ++j) {
    				results[i][j] = -1;
    			}
    		}

            console.log(results);

    		return pascalCalculateFuncRecursive(n, k, results);
    	}

    	// n: row of solution
    	// k: column of solution
    	// results: partially constructed solution array (for memoization)
    	function pascalCalculateFuncRecursive(n, k, results) {
    		if (k == 0 || k == n || n == 0) {
    			return 1;
    		}
    		else if (k > n || k < 0 || n < 0) {
    			return 0;
    		}
    		else {
    			if(results[n - 1][k - 1] == -1) {
    				results[n - 1][k - 1] = pascalCalculateFuncRecursive(n - 1, k - 1, results);
    			}
    			if(results[n - 1][k] == -1) {
    				results[n - 1][k] = pascalCalculateFuncRecursive(n - 1, k, results);
    			}
    			return results[n - 1][k - 1] + results[n - 1][k];
    			//return pascalCalculateFuncRecursive(n-1, k-1, results) + pascalCalculateFuncRecursive(n-1, k, results);
    		}
    	}

    	// n: rows of triangle
    	// loc: container for triangle (expect div)
    	function pascalGenerateFunc(n, loc) {
    		loc.innerHTML = "";
    		var results = [];
    		// construct solution array while creating triangle
    		for (var i = 0; i <= n; ++i) {
    			results[i] = [];
    			loc.innerHTML = loc.innerHTML + "<p>"
    			for (var j = 0; j <= i; ++j) {
    				if (j == 0 || j == i || i == 0) {
    					results[i][j] = 1;
    				}
    				else {
    					var leftPar = 0;
    					var rightPar = 0;
    					leftPar = results[i-1][j-1];
    					rightPar = results[i-1][j];
    					results[i][j] = leftPar + rightPar;
    				}
    				loc.innerHTML = loc.innerHTML + results[i][j] + " ";
    			}
    			loc.innerHTML = loc.innerHTML + "</p>"
    		}
    	}
    </script>
</body>
</html>
